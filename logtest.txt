--------- beginning of system
--------- beginning of main
---------------------------- PROCESS STARTED (8392) for package com.example.nanaclu ----------------------------
---------------------------- PROCESS ENDED (8392) for package com.example.nanaclu ----------------------------
---------------------------- PROCESS STARTED (8393) for package com.example.nanaclu ----------------------------
2025-10-10 19:44:37.472  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === REFRESH STARTED ===
2025-10-10 19:44:37.472  8393-8393  ChatListViewModel       com.example.nanaclu                  D  refresh: uid=Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:44:37.472  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Current threads count: 0
2025-10-10 19:44:37.472  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Setting up realtime listener for chat list
2025-10-10 19:44:37.472  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Calling repo.listenUserChats()...
2025-10-10 19:44:37.474  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Realtime listener created successfully
2025-10-10 19:44:37.474  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Firebase offline persistence enabled - no manual fallback needed
2025-10-10 19:44:37.498  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === REFRESH STARTED ===
2025-10-10 19:44:37.498  8393-8393  ChatListViewModel       com.example.nanaclu                  D  refresh: uid=Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:44:37.498  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Current threads count: 0
2025-10-10 19:44:37.498  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Detaching previous chat list listener
2025-10-10 19:44:37.500  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Setting up realtime listener for chat list
2025-10-10 19:44:37.500  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Calling repo.listenUserChats()...
2025-10-10 19:44:37.501  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Realtime listener created successfully
2025-10-10 19:44:37.501  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Firebase offline persistence enabled - no manual fallback needed
2025-10-10 19:44:37.654  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === LISTENER CALLBACK RECEIVED ===
2025-10-10 19:44:37.654  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === FIREBASE OFFLINE PERSISTENCE (CHATLIST) ===
2025-10-10 19:44:37.654  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Chat list snapshot: 6 member docs
2025-10-10 19:44:37.654  8393-8393  ChatListViewModel       com.example.nanaclu                  D  From cache: true
2025-10-10 19:44:37.654  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Has pending writes: false
2025-10-10 19:44:37.657  8393-8393  ChatListViewModel       com.example.nanaclu                  D  FIREBASE OFFLINE DATA (JSON): {
                                                                                                      "action": "READ_FROM_CACHE",
                                                                                                      "documentCount": 6,
                                                                                                      "fromCache": true,
                                                                                                      "hasPendingWrites": false,
                                                                                                      "memberDocs": [
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1758691892125, role=null, hidden=true, joinedAt=1758340593980, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760099814106, role=null, joinedAt=1758691994604, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760099786868, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758692811217, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {role=owner, avatarImageId=null, joinedAt=1758451088763, userEmail=null, userName=null, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, status=active}
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:44:37.657  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === END FIREBASE OFFLINE PERSISTENCE ===
2025-10-10 19:44:37.657  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Processing 6 member documents
2025-10-10 19:44:37.657  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Skipping hidden member doc: chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:44:37.657  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/bKuWFP1OwGmLP66729Fk
2025-10-10 19:44:37.658  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:44:37.658  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA
2025-10-10 19:44:37.659  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:44:37.660  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:44:37.660  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Waiting for 5 chat documents to load...
2025-10-10 19:44:38.123  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Processed chat list: 3 chats
2025-10-10 19:44:38.123  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Pre-caching display data for 3 chats
2025-10-10 19:44:39.475  8393-8393  ChatListViewModel       com.example.nanaclu                  D  DEBUG: After 2 seconds, threads count: 3
2025-10-10 19:44:39.502  8393-8393  ChatListViewModel       com.example.nanaclu                  D  DEBUG: After 2 seconds, threads count: 3
2025-10-10 19:44:42.681  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === LISTENER CALLBACK RECEIVED ===
2025-10-10 19:44:42.682  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === FIREBASE OFFLINE PERSISTENCE (CHATLIST) ===
2025-10-10 19:44:42.682  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Chat list snapshot: 6 member docs
2025-10-10 19:44:42.682  8393-8393  ChatListViewModel       com.example.nanaclu                  D  From cache: false
2025-10-10 19:44:42.682  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Has pending writes: true
2025-10-10 19:44:42.686  8393-8393  ChatListViewModel       com.example.nanaclu                  D  FIREBASE OFFLINE DATA (JSON): {
                                                                                                      "action": "READ_FROM_SERVER",
                                                                                                      "documentCount": 6,
                                                                                                      "fromCache": false,
                                                                                                      "hasPendingWrites": true,
                                                                                                      "memberDocs": [
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1758691892125, role=null, hidden=true, joinedAt=1758340593980, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100282273, role=null, joinedAt=1758691994604, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760099786868, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758692811217, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {role=owner, avatarImageId=null, joinedAt=1758451088763, userEmail=null, userName=null, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, status=active}
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:44:42.686  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === END FIREBASE OFFLINE PERSISTENCE ===
2025-10-10 19:44:42.686  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Processing 6 member documents
2025-10-10 19:44:42.687  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Skipping hidden member doc: chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:44:42.687  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/bKuWFP1OwGmLP66729Fk
2025-10-10 19:44:42.688  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:44:42.688  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA
2025-10-10 19:44:42.688  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:44:42.689  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:44:42.689  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Waiting for 5 chat documents to load...
2025-10-10 19:44:42.827  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === LISTENER CALLBACK RECEIVED ===
2025-10-10 19:44:42.827  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === FIREBASE OFFLINE PERSISTENCE (CHATLIST) ===
2025-10-10 19:44:42.827  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Chat list snapshot: 6 member docs
2025-10-10 19:44:42.827  8393-8393  ChatListViewModel       com.example.nanaclu                  D  From cache: false
2025-10-10 19:44:42.827  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Has pending writes: true
2025-10-10 19:44:42.832  8393-8393  ChatListViewModel       com.example.nanaclu                  D  FIREBASE OFFLINE DATA (JSON): {
                                                                                                      "action": "READ_FROM_SERVER",
                                                                                                      "documentCount": 6,
                                                                                                      "fromCache": false,
                                                                                                      "hasPendingWrites": true,
                                                                                                      "memberDocs": [
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1758691892125, role=null, hidden=true, joinedAt=1758340593980, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100282282, role=null, joinedAt=1758691994604, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760099786868, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758692811217, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {role=owner, avatarImageId=null, joinedAt=1758451088763, userEmail=null, userName=null, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, status=active}
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:44:42.832  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === END FIREBASE OFFLINE PERSISTENCE ===
2025-10-10 19:44:42.833  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Processing 6 member documents
2025-10-10 19:44:42.833  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Skipping hidden member doc: chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:44:42.834  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/bKuWFP1OwGmLP66729Fk
2025-10-10 19:44:42.834  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:44:42.835  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA
2025-10-10 19:44:42.835  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:44:42.835  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:44:42.836  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Waiting for 5 chat documents to load...
2025-10-10 19:44:42.893  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Processed chat list: 3 chats
2025-10-10 19:44:42.893  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Pre-caching display data for 3 chats
2025-10-10 19:44:42.915  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Processed chat list: 3 chats
2025-10-10 19:44:42.915  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Pre-caching display data for 3 chats
2025-10-10 19:44:43.432  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === REFRESH STARTED ===
2025-10-10 19:44:43.433  8393-8393  ChatListViewModel       com.example.nanaclu                  D  refresh: uid=Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:44:43.433  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Current threads count: 3
2025-10-10 19:44:43.433  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Detaching previous chat list listener
2025-10-10 19:44:43.433  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Setting up realtime listener for chat list
2025-10-10 19:44:43.433  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Calling repo.listenUserChats()...
2025-10-10 19:44:43.433  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Realtime listener created successfully
2025-10-10 19:44:43.433  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Firebase offline persistence enabled - no manual fallback needed
2025-10-10 19:44:43.558  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === LISTENER CALLBACK RECEIVED ===
2025-10-10 19:44:43.558  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === FIREBASE OFFLINE PERSISTENCE (CHATLIST) ===
2025-10-10 19:44:43.558  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Chat list snapshot: 6 member docs
2025-10-10 19:44:43.559  8393-8393  ChatListViewModel       com.example.nanaclu                  D  From cache: true
2025-10-10 19:44:43.559  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Has pending writes: false
2025-10-10 19:44:43.561  8393-8393  ChatListViewModel       com.example.nanaclu                  D  FIREBASE OFFLINE DATA (JSON): {
                                                                                                      "action": "READ_FROM_CACHE",
                                                                                                      "documentCount": 6,
                                                                                                      "fromCache": true,
                                                                                                      "hasPendingWrites": false,
                                                                                                      "memberDocs": [
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1758691892125, role=null, hidden=true, joinedAt=1758340593980, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100282282, role=null, joinedAt=1758691994604, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760099786868, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758692811217, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {role=owner, avatarImageId=null, joinedAt=1758451088763, userEmail=null, userName=null, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, status=active}
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:44:43.561  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === END FIREBASE OFFLINE PERSISTENCE ===
2025-10-10 19:44:43.561  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Processing 6 member documents
2025-10-10 19:44:43.562  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Skipping hidden member doc: chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:44:43.562  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/bKuWFP1OwGmLP66729Fk
2025-10-10 19:44:43.563  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:44:43.563  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA
2025-10-10 19:44:43.564  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:44:43.564  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:44:43.564  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Waiting for 5 chat documents to load...
2025-10-10 19:44:43.724  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Processed chat list: 3 chats
2025-10-10 19:44:43.724  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Pre-caching display data for 3 chats
2025-10-10 19:44:44.379  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === LISTENER CALLBACK RECEIVED ===
2025-10-10 19:44:44.379  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === FIREBASE OFFLINE PERSISTENCE (CHATLIST) ===
2025-10-10 19:44:44.380  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Chat list snapshot: 6 member docs
2025-10-10 19:44:44.380  8393-8393  ChatListViewModel       com.example.nanaclu                  D  From cache: false
2025-10-10 19:44:44.380  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Has pending writes: true
2025-10-10 19:44:44.384  8393-8393  ChatListViewModel       com.example.nanaclu                  D  FIREBASE OFFLINE DATA (JSON): {
                                                                                                      "action": "READ_FROM_SERVER",
                                                                                                      "documentCount": 6,
                                                                                                      "fromCache": false,
                                                                                                      "hasPendingWrites": true,
                                                                                                      "memberDocs": [
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1758691892125, role=null, hidden=true, joinedAt=1758340593980, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100282282, role=null, joinedAt=1758691994604, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100284243, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758692811217, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {role=owner, avatarImageId=null, joinedAt=1758451088763, userEmail=null, userName=null, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, status=active}
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:44:44.384  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === END FIREBASE OFFLINE PERSISTENCE ===
2025-10-10 19:44:44.384  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Processing 6 member documents
2025-10-10 19:44:44.385  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Skipping hidden member doc: chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:44:44.385  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/bKuWFP1OwGmLP66729Fk
2025-10-10 19:44:44.386  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:44:44.387  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA
2025-10-10 19:44:44.388  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:44:44.389  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:44:44.389  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Waiting for 5 chat documents to load...
2025-10-10 19:44:44.401  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === LISTENER CALLBACK RECEIVED ===
2025-10-10 19:44:44.401  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === FIREBASE OFFLINE PERSISTENCE (CHATLIST) ===
2025-10-10 19:44:44.401  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Chat list snapshot: 6 member docs
2025-10-10 19:44:44.402  8393-8393  ChatListViewModel       com.example.nanaclu                  D  From cache: false
2025-10-10 19:44:44.402  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Has pending writes: true
2025-10-10 19:44:44.410  8393-8393  ChatListViewModel       com.example.nanaclu                  D  FIREBASE OFFLINE DATA (JSON): {
                                                                                                      "action": "READ_FROM_SERVER",
                                                                                                      "documentCount": 6,
                                                                                                      "fromCache": false,
                                                                                                      "hasPendingWrites": true,
                                                                                                      "memberDocs": [
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1758691892125, role=null, hidden=true, joinedAt=1758340593980, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100282282, role=null, joinedAt=1758691994604, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100284252, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758692811217, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {role=owner, avatarImageId=null, joinedAt=1758451088763, userEmail=null, userName=null, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, status=active}
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:44:44.410  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === END FIREBASE OFFLINE PERSISTENCE ===
2025-10-10 19:44:44.410  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Processing 6 member documents
2025-10-10 19:44:44.411  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Skipping hidden member doc: chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:44:44.412  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/bKuWFP1OwGmLP66729Fk
2025-10-10 19:44:44.413  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:44:44.414  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA
2025-10-10 19:44:44.415  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:44:44.416  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:44:44.416  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Waiting for 5 chat documents to load...
2025-10-10 19:44:44.577  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Processed chat list: 3 chats
2025-10-10 19:44:44.577  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Pre-caching display data for 3 chats
2025-10-10 19:44:44.585  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Processed chat list: 3 chats
2025-10-10 19:44:44.585  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Pre-caching display data for 3 chats
2025-10-10 19:44:45.314  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === REFRESH STARTED ===
2025-10-10 19:44:45.314  8393-8393  ChatListViewModel       com.example.nanaclu                  D  refresh: uid=Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:44:45.314  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Current threads count: 3
2025-10-10 19:44:45.314  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Detaching previous chat list listener
2025-10-10 19:44:45.314  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Setting up realtime listener for chat list
2025-10-10 19:44:45.314  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Calling repo.listenUserChats()...
2025-10-10 19:44:45.316  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Realtime listener created successfully
2025-10-10 19:44:45.316  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Firebase offline persistence enabled - no manual fallback needed
2025-10-10 19:44:45.424  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === LISTENER CALLBACK RECEIVED ===
2025-10-10 19:44:45.424  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === FIREBASE OFFLINE PERSISTENCE (CHATLIST) ===
2025-10-10 19:44:45.424  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Chat list snapshot: 6 member docs
2025-10-10 19:44:45.424  8393-8393  ChatListViewModel       com.example.nanaclu                  D  From cache: true
2025-10-10 19:44:45.424  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Has pending writes: false
2025-10-10 19:44:45.427  8393-8393  ChatListViewModel       com.example.nanaclu                  D  FIREBASE OFFLINE DATA (JSON): {
                                                                                                      "action": "READ_FROM_CACHE",
                                                                                                      "documentCount": 6,
                                                                                                      "fromCache": true,
                                                                                                      "hasPendingWrites": false,
                                                                                                      "memberDocs": [
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1758691892125, role=null, hidden=true, joinedAt=1758340593980, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100282282, role=null, joinedAt=1758691994604, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100284252, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758692811217, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {role=owner, avatarImageId=null, joinedAt=1758451088763, userEmail=null, userName=null, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, status=active}
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:44:45.427  8393-8393  ChatListViewModel       com.example.nanaclu                  D  === END FIREBASE OFFLINE PERSISTENCE ===
2025-10-10 19:44:45.427  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Processing 6 member documents
2025-10-10 19:44:45.427  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Skipping hidden member doc: chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:44:45.428  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/bKuWFP1OwGmLP66729Fk
2025-10-10 19:44:45.428  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:44:45.429  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA
2025-10-10 19:44:45.429  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:44:45.430  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:44:45.430  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Waiting for 5 chat documents to load...
2025-10-10 19:44:45.439  8393-8393  ChatListViewModel       com.example.nanaclu                  D  DEBUG: After 2 seconds, threads count: 3
2025-10-10 19:44:45.595  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Processed chat list: 3 chats
2025-10-10 19:44:45.595  8393-8393  ChatListViewModel       com.example.nanaclu                  D  Pre-caching display data for 3 chats
2025-10-10 19:44:47.318  8393-8393  ChatListViewModel       com.example.nanaclu                  D  DEBUG: After 2 seconds, threads count: 3
---------------------------- PROCESS ENDED (8393) for package com.example.nanaclu ----------------------------
---------------------------- PROCESS STARTED (14099) for package com.example.nanaclu ----------------------------
2025-10-10 19:44:57.716 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === REFRESH STARTED ===
2025-10-10 19:44:57.716 14099-14099 ChatListViewModel       com.example.nanaclu                  D  refresh: uid=Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:44:57.716 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Current threads count: 0
2025-10-10 19:44:57.716 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Setting up realtime listener for chat list
2025-10-10 19:44:57.716 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Calling repo.listenUserChats()...
2025-10-10 19:44:57.717 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Realtime listener created successfully
2025-10-10 19:44:57.717 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Firebase offline persistence enabled - no manual fallback needed
2025-10-10 19:44:57.734 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === REFRESH STARTED ===
2025-10-10 19:44:57.734 14099-14099 ChatListViewModel       com.example.nanaclu                  D  refresh: uid=Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:44:57.734 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Current threads count: 0
2025-10-10 19:44:57.734 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detaching previous chat list listener
2025-10-10 19:44:57.734 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Setting up realtime listener for chat list
2025-10-10 19:44:57.734 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Calling repo.listenUserChats()...
2025-10-10 19:44:57.735 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Realtime listener created successfully
2025-10-10 19:44:57.735 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Firebase offline persistence enabled - no manual fallback needed
2025-10-10 19:44:57.906 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === LISTENER CALLBACK RECEIVED ===
2025-10-10 19:44:57.906 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === FIREBASE OFFLINE PERSISTENCE (CHATLIST) ===
2025-10-10 19:44:57.906 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Chat list snapshot: 6 member docs
2025-10-10 19:44:57.906 14099-14099 ChatListViewModel       com.example.nanaclu                  D  From cache: true
2025-10-10 19:44:57.906 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Has pending writes: false
2025-10-10 19:44:57.909 14099-14099 ChatListViewModel       com.example.nanaclu                  D  FIREBASE OFFLINE DATA (JSON): {
                                                                                                      "action": "READ_FROM_CACHE",
                                                                                                      "documentCount": 6,
                                                                                                      "fromCache": true,
                                                                                                      "hasPendingWrites": false,
                                                                                                      "memberDocs": [
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1758691892125, role=null, hidden=true, joinedAt=1758340593980, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100282282, role=null, joinedAt=1758691994604, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100284252, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758692811217, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {role=owner, avatarImageId=null, joinedAt=1758451088763, userEmail=null, userName=null, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, status=active}
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:44:57.909 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END FIREBASE OFFLINE PERSISTENCE ===
2025-10-10 19:44:57.909 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing 6 member documents
2025-10-10 19:44:57.910 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping hidden member doc: chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:44:57.910 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/bKuWFP1OwGmLP66729Fk
2025-10-10 19:44:57.911 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:44:57.911 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA
2025-10-10 19:44:57.912 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:44:57.912 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:44:57.912 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Waiting for 5 chat documents to load...
2025-10-10 19:44:58.462 14099-14099 ChatListViewModel       com.example.nanaclu                  E  Failed to load chat documents: Failed to get document because the client is offline.
2025-10-10 19:44:58.462 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Offline detected, creating basic chat list from member docs
2025-10-10 19:44:58.462 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === CREATING BASIC CHAT LIST (OFFLINE FALLBACK) ===
2025-10-10 19:44:58.463 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Creating basic chat list from 6 member docs
2025-10-10 19:44:58.465 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:44:58.465 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping private chat from path: chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3 - cannot determine other user ID
2025-10-10 19:44:58.466 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:44:58.466 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping private chat from path: chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3 - cannot determine other user ID
2025-10-10 19:44:58.467 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:44:58.467 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detected group chat from path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3, groupId: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:44:58.468 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created basic chat: 2KffRwOO95KTVuiuxFMA, type: group
2025-10-10 19:44:58.469 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:44:58.469 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detected group chat from path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3, groupId: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:44:58.469 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created basic chat: u4DbwEoy4dSsfcaatrbR, type: group
2025-10-10 19:44:58.470 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping error chat item in offline mode: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:44:58.470 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created 2 basic chats for offline mode (deduplicated)
2025-10-10 19:44:58.470 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Pre-caching display data for offline mode: 2 chats
2025-10-10 19:44:58.473 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Pre-cache method called successfully
2025-10-10 19:44:58.473 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === ENHANCING CHATS WITH CACHED DATA ===
2025-10-10 19:44:58.475 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END ENHANCING CHATS ===
2025-10-10 19:44:58.476 14099-14099 ChatListViewModel       com.example.nanaclu                  D  OFFLINE FALLBACK DATA (JSON): {
                                                                                                      "action": "OFFLINE_FALLBACK_CHATLIST",
                                                                                                      "chatCount": 2,
                                                                                                      "chats": [
                                                                                                        {
                                                                                                          "chatId": "u4DbwEoy4dSsfcaatrbR",
                                                                                                          "type": "group",
                                                                                                          "pairKey": "null",
                                                                                                          "groupId": "8ab93a7e-964d-4f29-bc22-335f331a9f18",
                                                                                                          "lastMessage": "",
                                                                                                          "lastMessageAt": 1760100298469,
                                                                                                          "createdAt": 1760100298469
                                                                                                        },
                                                                                                        {
                                                                                                          "chatId": "2KffRwOO95KTVuiuxFMA",
                                                                                                          "type": "group",
                                                                                                          "pairKey": "null",
                                                                                                          "groupId": "8ab93a7e-964d-4f29-bc22-335f331a9f18",
                                                                                                          "lastMessage": "",
                                                                                                          "lastMessageAt": 1760100298467,
                                                                                                          "createdAt": 1760100298467
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:44:58.476 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END OFFLINE FALLBACK ===
2025-10-10 19:44:58.561 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Enhanced group chat u4DbwEoy4dSsfcaatrbR with cached group data: name=oeoeo, avatar=https://firebasestorage.googleapis.com/v0/b/nanaclub-3a4d3.firebasestorage.app/o/group_images%2Favatar%2Fimg_1758539496253.jpg?alt=media&token=fbdea081-4dcc-4633-9f04-aab3ce9d1d7a
2025-10-10 19:44:58.563 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Enhanced group chat 2KffRwOO95KTVuiuxFMA with cached group data: name=oeoeo, avatar=https://firebasestorage.googleapis.com/v0/b/nanaclub-3a4d3.firebasestorage.app/o/group_images%2Favatar%2Fimg_1758539496253.jpg?alt=media&token=fbdea081-4dcc-4633-9f04-aab3ce9d1d7a
2025-10-10 19:44:59.718 14099-14099 ChatListViewModel       com.example.nanaclu                  D  DEBUG: After 2 seconds, threads count: 2
2025-10-10 19:44:59.736 14099-14099 ChatListViewModel       com.example.nanaclu                  D  DEBUG: After 2 seconds, threads count: 2
2025-10-10 19:45:01.546 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === LISTENER CALLBACK RECEIVED ===
2025-10-10 19:45:01.547 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === FIREBASE OFFLINE PERSISTENCE (CHATLIST) ===
2025-10-10 19:45:01.547 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Chat list snapshot: 6 member docs
2025-10-10 19:45:01.547 14099-14099 ChatListViewModel       com.example.nanaclu                  D  From cache: true
2025-10-10 19:45:01.547 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Has pending writes: true
2025-10-10 19:45:01.551 14099-14099 ChatListViewModel       com.example.nanaclu                  D  FIREBASE OFFLINE DATA (JSON): {
                                                                                                      "action": "READ_FROM_CACHE",
                                                                                                      "documentCount": 6,
                                                                                                      "fromCache": true,
                                                                                                      "hasPendingWrites": true,
                                                                                                      "memberDocs": [
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1758691892125, role=null, hidden=true, joinedAt=1758340593980, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100282282, role=null, joinedAt=1758691994604, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100301403, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758692811217, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {role=owner, avatarImageId=null, joinedAt=1758451088763, userEmail=null, userName=null, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, status=active}
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:45:01.551 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END FIREBASE OFFLINE PERSISTENCE ===
2025-10-10 19:45:01.551 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing 6 member documents
2025-10-10 19:45:01.552 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping hidden member doc: chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:01.552 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/bKuWFP1OwGmLP66729Fk
2025-10-10 19:45:01.552 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:45:01.553 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA
2025-10-10 19:45:01.553 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:45:01.554 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:01.555 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Waiting for 5 chat documents to load...
2025-10-10 19:45:01.586 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === LISTENER CALLBACK RECEIVED ===
2025-10-10 19:45:01.586 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === FIREBASE OFFLINE PERSISTENCE (CHATLIST) ===
2025-10-10 19:45:01.586 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Chat list snapshot: 6 member docs
2025-10-10 19:45:01.586 14099-14099 ChatListViewModel       com.example.nanaclu                  D  From cache: true
2025-10-10 19:45:01.586 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Has pending writes: true
2025-10-10 19:45:01.591 14099-14099 ChatListViewModel       com.example.nanaclu                  D  FIREBASE OFFLINE DATA (JSON): {
                                                                                                      "action": "READ_FROM_CACHE",
                                                                                                      "documentCount": 6,
                                                                                                      "fromCache": true,
                                                                                                      "hasPendingWrites": true,
                                                                                                      "memberDocs": [
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1758691892125, role=null, hidden=true, joinedAt=1758340593980, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100282282, role=null, joinedAt=1758691994604, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100301420, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758692811217, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {role=owner, avatarImageId=null, joinedAt=1758451088763, userEmail=null, userName=null, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, status=active}
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:45:01.591 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END FIREBASE OFFLINE PERSISTENCE ===
2025-10-10 19:45:01.591 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing 6 member documents
2025-10-10 19:45:01.592 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping hidden member doc: chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:01.592 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/bKuWFP1OwGmLP66729Fk
2025-10-10 19:45:01.593 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:45:01.593 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA
2025-10-10 19:45:01.593 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:45:01.594 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:01.594 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Waiting for 5 chat documents to load...
2025-10-10 19:45:01.701 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === LISTENER CALLBACK RECEIVED ===
2025-10-10 19:45:01.701 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === FIREBASE OFFLINE PERSISTENCE (CHATLIST) ===
2025-10-10 19:45:01.701 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Chat list snapshot: 6 member docs
2025-10-10 19:45:01.701 14099-14099 ChatListViewModel       com.example.nanaclu                  D  From cache: true
2025-10-10 19:45:01.701 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Has pending writes: true
2025-10-10 19:45:01.705 14099-14099 ChatListViewModel       com.example.nanaclu                  D  FIREBASE OFFLINE DATA (JSON): {
                                                                                                      "action": "READ_FROM_CACHE",
                                                                                                      "documentCount": 6,
                                                                                                      "fromCache": true,
                                                                                                      "hasPendingWrites": true,
                                                                                                      "memberDocs": [
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1758691892125, role=null, hidden=true, joinedAt=1758340593980, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100282282, role=null, joinedAt=1758691994604, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100301403, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758692811217, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {role=owner, avatarImageId=null, joinedAt=1758451088763, userEmail=null, userName=null, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, status=active}
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:45:01.705 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END FIREBASE OFFLINE PERSISTENCE ===
2025-10-10 19:45:01.706 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing 6 member documents
2025-10-10 19:45:01.706 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping hidden member doc: chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:01.707 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/bKuWFP1OwGmLP66729Fk
2025-10-10 19:45:01.707 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:45:01.708 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA
2025-10-10 19:45:01.708 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:45:01.708 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:01.709 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Waiting for 5 chat documents to load...
2025-10-10 19:45:01.709 14099-14099 ChatListViewModel       com.example.nanaclu                  E  Failed to load chat documents: Failed to get document because the client is offline.
2025-10-10 19:45:01.709 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Offline detected, creating basic chat list from member docs
2025-10-10 19:45:01.709 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === CREATING BASIC CHAT LIST (OFFLINE FALLBACK) ===
2025-10-10 19:45:01.709 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Creating basic chat list from 6 member docs
2025-10-10 19:45:01.710 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:01.711 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping private chat from path: chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3 - cannot determine other user ID
2025-10-10 19:45:01.711 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:01.711 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping private chat from path: chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3 - cannot determine other user ID
2025-10-10 19:45:01.711 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:01.711 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detected group chat from path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3, groupId: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:01.711 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created basic chat: 2KffRwOO95KTVuiuxFMA, type: group
2025-10-10 19:45:01.712 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:01.712 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detected group chat from path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3, groupId: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:01.712 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created basic chat: u4DbwEoy4dSsfcaatrbR, type: group
2025-10-10 19:45:01.712 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping error chat item in offline mode: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:01.712 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created 2 basic chats for offline mode (deduplicated)
2025-10-10 19:45:01.712 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Pre-caching display data for offline mode: 2 chats
2025-10-10 19:45:01.713 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Pre-cache method called successfully
2025-10-10 19:45:01.713 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === ENHANCING CHATS WITH CACHED DATA ===
2025-10-10 19:45:01.714 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END ENHANCING CHATS ===
2025-10-10 19:45:01.714 14099-14099 ChatListViewModel       com.example.nanaclu                  D  OFFLINE FALLBACK DATA (JSON): {
                                                                                                      "action": "OFFLINE_FALLBACK_CHATLIST",
                                                                                                      "chatCount": 2,
                                                                                                      "chats": [
                                                                                                        {
                                                                                                          "chatId": "u4DbwEoy4dSsfcaatrbR",
                                                                                                          "type": "group",
                                                                                                          "pairKey": "null",
                                                                                                          "groupId": "8ab93a7e-964d-4f29-bc22-335f331a9f18",
                                                                                                          "lastMessage": "",
                                                                                                          "lastMessageAt": 1760100301712,
                                                                                                          "createdAt": 1760100301712
                                                                                                        },
                                                                                                        {
                                                                                                          "chatId": "2KffRwOO95KTVuiuxFMA",
                                                                                                          "type": "group",
                                                                                                          "pairKey": "null",
                                                                                                          "groupId": "8ab93a7e-964d-4f29-bc22-335f331a9f18",
                                                                                                          "lastMessage": "",
                                                                                                          "lastMessageAt": 1760100301711,
                                                                                                          "createdAt": 1760100301711
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:45:01.714 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END OFFLINE FALLBACK ===
2025-10-10 19:45:01.716 14099-14099 ChatListViewModel       com.example.nanaclu                  E  Failed to load chat documents: Failed to get document because the client is offline.
2025-10-10 19:45:01.716 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Offline detected, creating basic chat list from member docs
2025-10-10 19:45:01.716 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === CREATING BASIC CHAT LIST (OFFLINE FALLBACK) ===
2025-10-10 19:45:01.716 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Creating basic chat list from 6 member docs
2025-10-10 19:45:01.719 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:01.719 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping private chat from path: chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3 - cannot determine other user ID
2025-10-10 19:45:01.720 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:01.721 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping private chat from path: chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3 - cannot determine other user ID
2025-10-10 19:45:01.723 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:01.723 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detected group chat from path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3, groupId: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:01.723 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created basic chat: 2KffRwOO95KTVuiuxFMA, type: group
2025-10-10 19:45:01.724 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:01.724 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detected group chat from path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3, groupId: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:01.724 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created basic chat: u4DbwEoy4dSsfcaatrbR, type: group
2025-10-10 19:45:01.724 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping error chat item in offline mode: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:01.725 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created 2 basic chats for offline mode (deduplicated)
2025-10-10 19:45:01.725 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Pre-caching display data for offline mode: 2 chats
2025-10-10 19:45:01.727 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Pre-cache method called successfully
2025-10-10 19:45:01.727 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === ENHANCING CHATS WITH CACHED DATA ===
2025-10-10 19:45:01.728 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END ENHANCING CHATS ===
2025-10-10 19:45:01.728 14099-14099 ChatListViewModel       com.example.nanaclu                  D  OFFLINE FALLBACK DATA (JSON): {
                                                                                                      "action": "OFFLINE_FALLBACK_CHATLIST",
                                                                                                      "chatCount": 2,
                                                                                                      "chats": [
                                                                                                        {
                                                                                                          "chatId": "u4DbwEoy4dSsfcaatrbR",
                                                                                                          "type": "group",
                                                                                                          "pairKey": "null",
                                                                                                          "groupId": "8ab93a7e-964d-4f29-bc22-335f331a9f18",
                                                                                                          "lastMessage": "",
                                                                                                          "lastMessageAt": 1760100301724,
                                                                                                          "createdAt": 1760100301724
                                                                                                        },
                                                                                                        {
                                                                                                          "chatId": "2KffRwOO95KTVuiuxFMA",
                                                                                                          "type": "group",
                                                                                                          "pairKey": "null",
                                                                                                          "groupId": "8ab93a7e-964d-4f29-bc22-335f331a9f18",
                                                                                                          "lastMessage": "",
                                                                                                          "lastMessageAt": 1760100301723,
                                                                                                          "createdAt": 1760100301723
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:45:01.728 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END OFFLINE FALLBACK ===
2025-10-10 19:45:01.778 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === LISTENER CALLBACK RECEIVED ===
2025-10-10 19:45:01.778 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === FIREBASE OFFLINE PERSISTENCE (CHATLIST) ===
2025-10-10 19:45:01.779 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Chat list snapshot: 6 member docs
2025-10-10 19:45:01.779 14099-14099 ChatListViewModel       com.example.nanaclu                  D  From cache: true
2025-10-10 19:45:01.779 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Has pending writes: true
2025-10-10 19:45:01.789 14099-14099 ChatListViewModel       com.example.nanaclu                  D  FIREBASE OFFLINE DATA (JSON): {
                                                                                                      "action": "READ_FROM_CACHE",
                                                                                                      "documentCount": 6,
                                                                                                      "fromCache": true,
                                                                                                      "hasPendingWrites": true,
                                                                                                      "memberDocs": [
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1758691892125, role=null, hidden=true, joinedAt=1758340593980, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100282282, role=null, joinedAt=1758691994604, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100301420, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758692811217, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {role=owner, avatarImageId=null, joinedAt=1758451088763, userEmail=null, userName=null, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, status=active}
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:45:01.789 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END FIREBASE OFFLINE PERSISTENCE ===
2025-10-10 19:45:01.789 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing 6 member documents
2025-10-10 19:45:01.790 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping hidden member doc: chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:01.791 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/bKuWFP1OwGmLP66729Fk
2025-10-10 19:45:01.791 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:45:01.792 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA
2025-10-10 19:45:01.792 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:45:01.793 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:01.793 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Waiting for 5 chat documents to load...
2025-10-10 19:45:01.832 14099-14099 ChatListViewModel       com.example.nanaclu                  E  Failed to load chat documents: Failed to get document because the client is offline.
2025-10-10 19:45:01.832 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Offline detected, creating basic chat list from member docs
2025-10-10 19:45:01.832 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === CREATING BASIC CHAT LIST (OFFLINE FALLBACK) ===
2025-10-10 19:45:01.832 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Creating basic chat list from 6 member docs
2025-10-10 19:45:01.834 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:01.834 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping private chat from path: chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3 - cannot determine other user ID
2025-10-10 19:45:01.834 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:01.834 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping private chat from path: chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3 - cannot determine other user ID
2025-10-10 19:45:01.835 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:01.835 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detected group chat from path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3, groupId: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:01.835 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created basic chat: 2KffRwOO95KTVuiuxFMA, type: group
2025-10-10 19:45:01.835 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:01.835 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detected group chat from path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3, groupId: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:01.835 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created basic chat: u4DbwEoy4dSsfcaatrbR, type: group
2025-10-10 19:45:01.835 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping error chat item in offline mode: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:01.835 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created 2 basic chats for offline mode (deduplicated)
2025-10-10 19:45:01.836 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Pre-caching display data for offline mode: 2 chats
2025-10-10 19:45:01.836 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Pre-cache method called successfully
2025-10-10 19:45:01.836 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === ENHANCING CHATS WITH CACHED DATA ===
2025-10-10 19:45:01.837 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END ENHANCING CHATS ===
2025-10-10 19:45:01.837 14099-14099 ChatListViewModel       com.example.nanaclu                  D  OFFLINE FALLBACK DATA (JSON): {
                                                                                                      "action": "OFFLINE_FALLBACK_CHATLIST",
                                                                                                      "chatCount": 2,
                                                                                                      "chats": [
                                                                                                        {
                                                                                                          "chatId": "u4DbwEoy4dSsfcaatrbR",
                                                                                                          "type": "group",
                                                                                                          "pairKey": "null",
                                                                                                          "groupId": "8ab93a7e-964d-4f29-bc22-335f331a9f18",
                                                                                                          "lastMessage": "",
                                                                                                          "lastMessageAt": 1760100301835,
                                                                                                          "createdAt": 1760100301835
                                                                                                        },
                                                                                                        {
                                                                                                          "chatId": "2KffRwOO95KTVuiuxFMA",
                                                                                                          "type": "group",
                                                                                                          "pairKey": "null",
                                                                                                          "groupId": "8ab93a7e-964d-4f29-bc22-335f331a9f18",
                                                                                                          "lastMessage": "",
                                                                                                          "lastMessageAt": 1760100301834,
                                                                                                          "createdAt": 1760100301834
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:45:01.837 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END OFFLINE FALLBACK ===
2025-10-10 19:45:01.840 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Enhanced group chat u4DbwEoy4dSsfcaatrbR with cached group data: name=oeoeo, avatar=https://firebasestorage.googleapis.com/v0/b/nanaclub-3a4d3.firebasestorage.app/o/group_images%2Favatar%2Fimg_1758539496253.jpg?alt=media&token=fbdea081-4dcc-4633-9f04-aab3ce9d1d7a
2025-10-10 19:45:01.841 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Enhanced group chat 2KffRwOO95KTVuiuxFMA with cached group data: name=oeoeo, avatar=https://firebasestorage.googleapis.com/v0/b/nanaclub-3a4d3.firebasestorage.app/o/group_images%2Favatar%2Fimg_1758539496253.jpg?alt=media&token=fbdea081-4dcc-4633-9f04-aab3ce9d1d7a
2025-10-10 19:45:01.842 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Enhanced group chat u4DbwEoy4dSsfcaatrbR with cached group data: name=oeoeo, avatar=https://firebasestorage.googleapis.com/v0/b/nanaclub-3a4d3.firebasestorage.app/o/group_images%2Favatar%2Fimg_1758539496253.jpg?alt=media&token=fbdea081-4dcc-4633-9f04-aab3ce9d1d7a
2025-10-10 19:45:01.843 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Enhanced group chat 2KffRwOO95KTVuiuxFMA with cached group data: name=oeoeo, avatar=https://firebasestorage.googleapis.com/v0/b/nanaclub-3a4d3.firebasestorage.app/o/group_images%2Favatar%2Fimg_1758539496253.jpg?alt=media&token=fbdea081-4dcc-4633-9f04-aab3ce9d1d7a
2025-10-10 19:45:01.882 14099-14099 ChatListViewModel       com.example.nanaclu                  E  Failed to load chat documents: Failed to get document because the client is offline.
2025-10-10 19:45:01.882 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Offline detected, creating basic chat list from member docs
2025-10-10 19:45:01.882 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === CREATING BASIC CHAT LIST (OFFLINE FALLBACK) ===
2025-10-10 19:45:01.882 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Creating basic chat list from 6 member docs
2025-10-10 19:45:01.883 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:01.883 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping private chat from path: chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3 - cannot determine other user ID
2025-10-10 19:45:01.883 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:01.883 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping private chat from path: chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3 - cannot determine other user ID
2025-10-10 19:45:01.884 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:01.884 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detected group chat from path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3, groupId: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:01.884 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created basic chat: 2KffRwOO95KTVuiuxFMA, type: group
2025-10-10 19:45:01.884 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:01.884 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detected group chat from path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3, groupId: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:01.884 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created basic chat: u4DbwEoy4dSsfcaatrbR, type: group
2025-10-10 19:45:01.885 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping error chat item in offline mode: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:01.885 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created 2 basic chats for offline mode (deduplicated)
2025-10-10 19:45:01.885 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Pre-caching display data for offline mode: 2 chats
2025-10-10 19:45:01.886 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Pre-cache method called successfully
2025-10-10 19:45:01.886 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === ENHANCING CHATS WITH CACHED DATA ===
2025-10-10 19:45:01.886 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END ENHANCING CHATS ===
2025-10-10 19:45:01.886 14099-14099 ChatListViewModel       com.example.nanaclu                  D  OFFLINE FALLBACK DATA (JSON): {
                                                                                                      "action": "OFFLINE_FALLBACK_CHATLIST",
                                                                                                      "chatCount": 2,
                                                                                                      "chats": [
                                                                                                        {
                                                                                                          "chatId": "u4DbwEoy4dSsfcaatrbR",
                                                                                                          "type": "group",
                                                                                                          "pairKey": "null",
                                                                                                          "groupId": "8ab93a7e-964d-4f29-bc22-335f331a9f18",
                                                                                                          "lastMessage": "",
                                                                                                          "lastMessageAt": 1760100301884,
                                                                                                          "createdAt": 1760100301884
                                                                                                        },
                                                                                                        {
                                                                                                          "chatId": "2KffRwOO95KTVuiuxFMA",
                                                                                                          "type": "group",
                                                                                                          "pairKey": "null",
                                                                                                          "groupId": "8ab93a7e-964d-4f29-bc22-335f331a9f18",
                                                                                                          "lastMessage": "",
                                                                                                          "lastMessageAt": 1760100301884,
                                                                                                          "createdAt": 1760100301884
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:45:01.886 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END OFFLINE FALLBACK ===
2025-10-10 19:45:02.021 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Enhanced group chat u4DbwEoy4dSsfcaatrbR with cached group data: name=oeoeo, avatar=https://firebasestorage.googleapis.com/v0/b/nanaclub-3a4d3.firebasestorage.app/o/group_images%2Favatar%2Fimg_1758539496253.jpg?alt=media&token=fbdea081-4dcc-4633-9f04-aab3ce9d1d7a
2025-10-10 19:45:02.024 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Enhanced group chat 2KffRwOO95KTVuiuxFMA with cached group data: name=oeoeo, avatar=https://firebasestorage.googleapis.com/v0/b/nanaclub-3a4d3.firebasestorage.app/o/group_images%2Favatar%2Fimg_1758539496253.jpg?alt=media&token=fbdea081-4dcc-4633-9f04-aab3ce9d1d7a
2025-10-10 19:45:02.055 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Enhanced group chat u4DbwEoy4dSsfcaatrbR with cached group data: name=oeoeo, avatar=https://firebasestorage.googleapis.com/v0/b/nanaclub-3a4d3.firebasestorage.app/o/group_images%2Favatar%2Fimg_1758539496253.jpg?alt=media&token=fbdea081-4dcc-4633-9f04-aab3ce9d1d7a
2025-10-10 19:45:02.058 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Enhanced group chat 2KffRwOO95KTVuiuxFMA with cached group data: name=oeoeo, avatar=https://firebasestorage.googleapis.com/v0/b/nanaclub-3a4d3.firebasestorage.app/o/group_images%2Favatar%2Fimg_1758539496253.jpg?alt=media&token=fbdea081-4dcc-4633-9f04-aab3ce9d1d7a
2025-10-10 19:45:02.922 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === REFRESH STARTED ===
2025-10-10 19:45:02.922 14099-14099 ChatListViewModel       com.example.nanaclu                  D  refresh: uid=Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:02.922 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Current threads count: 2
2025-10-10 19:45:02.922 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detaching previous chat list listener
2025-10-10 19:45:02.922 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Setting up realtime listener for chat list
2025-10-10 19:45:02.922 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Calling repo.listenUserChats()...
2025-10-10 19:45:02.924 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Realtime listener created successfully
2025-10-10 19:45:02.924 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Firebase offline persistence enabled - no manual fallback needed
2025-10-10 19:45:03.030 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === LISTENER CALLBACK RECEIVED ===
2025-10-10 19:45:03.030 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === FIREBASE OFFLINE PERSISTENCE (CHATLIST) ===
2025-10-10 19:45:03.030 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Chat list snapshot: 6 member docs
2025-10-10 19:45:03.030 14099-14099 ChatListViewModel       com.example.nanaclu                  D  From cache: true
2025-10-10 19:45:03.030 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Has pending writes: true
2025-10-10 19:45:03.034 14099-14099 ChatListViewModel       com.example.nanaclu                  D  FIREBASE OFFLINE DATA (JSON): {
                                                                                                      "action": "READ_FROM_CACHE",
                                                                                                      "documentCount": 6,
                                                                                                      "fromCache": true,
                                                                                                      "hasPendingWrites": true,
                                                                                                      "memberDocs": [
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1758691892125, role=null, hidden=true, joinedAt=1758340593980, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100282282, role=null, joinedAt=1758691994604, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100301420, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758692811217, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {role=owner, avatarImageId=null, joinedAt=1758451088763, userEmail=null, userName=null, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, status=active}
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:45:03.034 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END FIREBASE OFFLINE PERSISTENCE ===
2025-10-10 19:45:03.035 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing 6 member documents
2025-10-10 19:45:03.035 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping hidden member doc: chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:03.035 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/bKuWFP1OwGmLP66729Fk
2025-10-10 19:45:03.036 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:45:03.037 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA
2025-10-10 19:45:03.037 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:45:03.038 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:03.038 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Waiting for 5 chat documents to load...
2025-10-10 19:45:03.088 14099-14099 ChatListViewModel       com.example.nanaclu                  E  Failed to load chat documents: Failed to get document because the client is offline.
2025-10-10 19:45:03.089 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Offline detected, creating basic chat list from member docs
2025-10-10 19:45:03.089 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === CREATING BASIC CHAT LIST (OFFLINE FALLBACK) ===
2025-10-10 19:45:03.089 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Creating basic chat list from 6 member docs
2025-10-10 19:45:03.095 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:03.095 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping private chat from path: chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3 - cannot determine other user ID
2025-10-10 19:45:03.096 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:03.096 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping private chat from path: chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3 - cannot determine other user ID
2025-10-10 19:45:03.097 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:03.097 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detected group chat from path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3, groupId: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:03.097 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created basic chat: 2KffRwOO95KTVuiuxFMA, type: group
2025-10-10 19:45:03.098 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:03.098 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detected group chat from path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3, groupId: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:03.098 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created basic chat: u4DbwEoy4dSsfcaatrbR, type: group
2025-10-10 19:45:03.098 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping error chat item in offline mode: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:03.099 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created 2 basic chats for offline mode (deduplicated)
2025-10-10 19:45:03.099 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Pre-caching display data for offline mode: 2 chats
2025-10-10 19:45:03.099 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Pre-cache method called successfully
2025-10-10 19:45:03.099 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === ENHANCING CHATS WITH CACHED DATA ===
2025-10-10 19:45:03.100 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END ENHANCING CHATS ===
2025-10-10 19:45:03.100 14099-14099 ChatListViewModel       com.example.nanaclu                  D  OFFLINE FALLBACK DATA (JSON): {
                                                                                                      "action": "OFFLINE_FALLBACK_CHATLIST",
                                                                                                      "chatCount": 2,
                                                                                                      "chats": [
                                                                                                        {
                                                                                                          "chatId": "u4DbwEoy4dSsfcaatrbR",
                                                                                                          "type": "group",
                                                                                                          "pairKey": "null",
                                                                                                          "groupId": "8ab93a7e-964d-4f29-bc22-335f331a9f18",
                                                                                                          "lastMessage": "",
                                                                                                          "lastMessageAt": 1760100303098,
                                                                                                          "createdAt": 1760100303098
                                                                                                        },
                                                                                                        {
                                                                                                          "chatId": "2KffRwOO95KTVuiuxFMA",
                                                                                                          "type": "group",
                                                                                                          "pairKey": "null",
                                                                                                          "groupId": "8ab93a7e-964d-4f29-bc22-335f331a9f18",
                                                                                                          "lastMessage": "",
                                                                                                          "lastMessageAt": 1760100303097,
                                                                                                          "createdAt": 1760100303097
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:45:03.100 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END OFFLINE FALLBACK ===
2025-10-10 19:45:03.147 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Enhanced group chat u4DbwEoy4dSsfcaatrbR with cached group data: name=oeoeo, avatar=https://firebasestorage.googleapis.com/v0/b/nanaclub-3a4d3.firebasestorage.app/o/group_images%2Favatar%2Fimg_1758539496253.jpg?alt=media&token=fbdea081-4dcc-4633-9f04-aab3ce9d1d7a
2025-10-10 19:45:03.148 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Enhanced group chat 2KffRwOO95KTVuiuxFMA with cached group data: name=oeoeo, avatar=https://firebasestorage.googleapis.com/v0/b/nanaclub-3a4d3.firebasestorage.app/o/group_images%2Favatar%2Fimg_1758539496253.jpg?alt=media&token=fbdea081-4dcc-4633-9f04-aab3ce9d1d7a
2025-10-10 19:45:04.925 14099-14099 ChatListViewModel       com.example.nanaclu                  D  DEBUG: After 2 seconds, threads count: 2
2025-10-10 19:45:06.800 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === REFRESH STARTED ===
2025-10-10 19:45:06.800 14099-14099 ChatListViewModel       com.example.nanaclu                  D  refresh: uid=Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:06.800 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Current threads count: 2
2025-10-10 19:45:06.800 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detaching previous chat list listener
2025-10-10 19:45:06.800 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Setting up realtime listener for chat list
2025-10-10 19:45:06.800 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Calling repo.listenUserChats()...
2025-10-10 19:45:06.802 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Realtime listener created successfully
2025-10-10 19:45:06.802 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Firebase offline persistence enabled - no manual fallback needed
2025-10-10 19:45:06.898 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === LISTENER CALLBACK RECEIVED ===
2025-10-10 19:45:06.898 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === FIREBASE OFFLINE PERSISTENCE (CHATLIST) ===
2025-10-10 19:45:06.898 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Chat list snapshot: 6 member docs
2025-10-10 19:45:06.898 14099-14099 ChatListViewModel       com.example.nanaclu                  D  From cache: true
2025-10-10 19:45:06.898 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Has pending writes: true
2025-10-10 19:45:06.902 14099-14099 ChatListViewModel       com.example.nanaclu                  D  FIREBASE OFFLINE DATA (JSON): {
                                                                                                      "action": "READ_FROM_CACHE",
                                                                                                      "documentCount": 6,
                                                                                                      "fromCache": true,
                                                                                                      "hasPendingWrites": true,
                                                                                                      "memberDocs": [
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1758691892125, role=null, hidden=true, joinedAt=1758340593980, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100282282, role=null, joinedAt=1758691994604, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100301420, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758692811217, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {role=owner, avatarImageId=null, joinedAt=1758451088763, userEmail=null, userName=null, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, status=active}
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:45:06.902 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END FIREBASE OFFLINE PERSISTENCE ===
2025-10-10 19:45:06.902 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing 6 member documents
2025-10-10 19:45:06.902 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping hidden member doc: chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:06.903 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/bKuWFP1OwGmLP66729Fk
2025-10-10 19:45:06.903 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:45:06.904 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA
2025-10-10 19:45:06.904 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:45:06.905 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:06.905 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Waiting for 5 chat documents to load...
2025-10-10 19:45:06.940 14099-14099 ChatListViewModel       com.example.nanaclu                  E  Failed to load chat documents: Failed to get document because the client is offline.
2025-10-10 19:45:06.940 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Offline detected, creating basic chat list from member docs
2025-10-10 19:45:06.940 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === CREATING BASIC CHAT LIST (OFFLINE FALLBACK) ===
2025-10-10 19:45:06.940 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Creating basic chat list from 6 member docs
2025-10-10 19:45:06.941 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:06.941 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping private chat from path: chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3 - cannot determine other user ID
2025-10-10 19:45:06.942 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:06.942 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping private chat from path: chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3 - cannot determine other user ID
2025-10-10 19:45:06.942 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:06.942 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detected group chat from path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3, groupId: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:06.942 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created basic chat: 2KffRwOO95KTVuiuxFMA, type: group
2025-10-10 19:45:06.943 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:06.943 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detected group chat from path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3, groupId: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:06.943 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created basic chat: u4DbwEoy4dSsfcaatrbR, type: group
2025-10-10 19:45:06.943 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping error chat item in offline mode: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:06.943 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created 2 basic chats for offline mode (deduplicated)
2025-10-10 19:45:06.943 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Pre-caching display data for offline mode: 2 chats
2025-10-10 19:45:06.944 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Pre-cache method called successfully
2025-10-10 19:45:06.944 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === ENHANCING CHATS WITH CACHED DATA ===
2025-10-10 19:45:06.945 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END ENHANCING CHATS ===
2025-10-10 19:45:06.945 14099-14099 ChatListViewModel       com.example.nanaclu                  D  OFFLINE FALLBACK DATA (JSON): {
                                                                                                      "action": "OFFLINE_FALLBACK_CHATLIST",
                                                                                                      "chatCount": 2,
                                                                                                      "chats": [
                                                                                                        {
                                                                                                          "chatId": "u4DbwEoy4dSsfcaatrbR",
                                                                                                          "type": "group",
                                                                                                          "pairKey": "null",
                                                                                                          "groupId": "8ab93a7e-964d-4f29-bc22-335f331a9f18",
                                                                                                          "lastMessage": "",
                                                                                                          "lastMessageAt": 1760100306943,
                                                                                                          "createdAt": 1760100306943
                                                                                                        },
                                                                                                        {
                                                                                                          "chatId": "2KffRwOO95KTVuiuxFMA",
                                                                                                          "type": "group",
                                                                                                          "pairKey": "null",
                                                                                                          "groupId": "8ab93a7e-964d-4f29-bc22-335f331a9f18",
                                                                                                          "lastMessage": "",
                                                                                                          "lastMessageAt": 1760100306942,
                                                                                                          "createdAt": 1760100306942
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:45:06.945 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END OFFLINE FALLBACK ===
2025-10-10 19:45:07.005 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Enhanced group chat u4DbwEoy4dSsfcaatrbR with cached group data: name=oeoeo, avatar=https://firebasestorage.googleapis.com/v0/b/nanaclub-3a4d3.firebasestorage.app/o/group_images%2Favatar%2Fimg_1758539496253.jpg?alt=media&token=fbdea081-4dcc-4633-9f04-aab3ce9d1d7a
2025-10-10 19:45:07.007 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Enhanced group chat 2KffRwOO95KTVuiuxFMA with cached group data: name=oeoeo, avatar=https://firebasestorage.googleapis.com/v0/b/nanaclub-3a4d3.firebasestorage.app/o/group_images%2Favatar%2Fimg_1758539496253.jpg?alt=media&token=fbdea081-4dcc-4633-9f04-aab3ce9d1d7a
2025-10-10 19:45:07.859 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === LISTENER CALLBACK RECEIVED ===
2025-10-10 19:45:07.859 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === FIREBASE OFFLINE PERSISTENCE (CHATLIST) ===
2025-10-10 19:45:07.860 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Chat list snapshot: 6 member docs
2025-10-10 19:45:07.860 14099-14099 ChatListViewModel       com.example.nanaclu                  D  From cache: true
2025-10-10 19:45:07.860 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Has pending writes: true
2025-10-10 19:45:07.868 14099-14099 ChatListViewModel       com.example.nanaclu                  D  FIREBASE OFFLINE DATA (JSON): {
                                                                                                      "action": "READ_FROM_CACHE",
                                                                                                      "documentCount": 6,
                                                                                                      "fromCache": true,
                                                                                                      "hasPendingWrites": true,
                                                                                                      "memberDocs": [
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1758691892125, role=null, hidden=true, joinedAt=1758340593980, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100282282, role=null, joinedAt=1758691994604, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100307716, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758692811217, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {role=owner, avatarImageId=null, joinedAt=1758451088763, userEmail=null, userName=null, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, status=active}
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:45:07.868 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END FIREBASE OFFLINE PERSISTENCE ===
2025-10-10 19:45:07.869 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing 6 member documents
2025-10-10 19:45:07.870 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping hidden member doc: chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:07.871 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/bKuWFP1OwGmLP66729Fk
2025-10-10 19:45:07.873 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:45:07.874 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA
2025-10-10 19:45:07.875 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:45:07.876 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:07.877 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Waiting for 5 chat documents to load...
2025-10-10 19:45:07.890 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === LISTENER CALLBACK RECEIVED ===
2025-10-10 19:45:07.890 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === FIREBASE OFFLINE PERSISTENCE (CHATLIST) ===
2025-10-10 19:45:07.890 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Chat list snapshot: 6 member docs
2025-10-10 19:45:07.891 14099-14099 ChatListViewModel       com.example.nanaclu                  D  From cache: true
2025-10-10 19:45:07.891 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Has pending writes: true
2025-10-10 19:45:07.896 14099-14099 ChatListViewModel       com.example.nanaclu                  D  FIREBASE OFFLINE DATA (JSON): {
                                                                                                      "action": "READ_FROM_CACHE",
                                                                                                      "documentCount": 6,
                                                                                                      "fromCache": true,
                                                                                                      "hasPendingWrites": true,
                                                                                                      "memberDocs": [
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1758691892125, role=null, hidden=true, joinedAt=1758340593980, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100282282, role=null, joinedAt=1758691994604, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100307725, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758692811217, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {role=owner, avatarImageId=null, joinedAt=1758451088763, userEmail=null, userName=null, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, status=active}
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:45:07.896 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END FIREBASE OFFLINE PERSISTENCE ===
2025-10-10 19:45:07.896 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing 6 member documents
2025-10-10 19:45:07.897 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping hidden member doc: chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:07.897 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/bKuWFP1OwGmLP66729Fk
2025-10-10 19:45:07.897 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:45:07.898 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA
2025-10-10 19:45:07.898 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:45:07.899 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:07.899 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Waiting for 5 chat documents to load...
2025-10-10 19:45:07.975 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === LISTENER CALLBACK RECEIVED ===
2025-10-10 19:45:07.975 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === FIREBASE OFFLINE PERSISTENCE (CHATLIST) ===
2025-10-10 19:45:07.976 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Chat list snapshot: 6 member docs
2025-10-10 19:45:07.976 14099-14099 ChatListViewModel       com.example.nanaclu                  D  From cache: true
2025-10-10 19:45:07.976 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Has pending writes: true
2025-10-10 19:45:07.979 14099-14099 ChatListViewModel       com.example.nanaclu                  D  FIREBASE OFFLINE DATA (JSON): {
                                                                                                      "action": "READ_FROM_CACHE",
                                                                                                      "documentCount": 6,
                                                                                                      "fromCache": true,
                                                                                                      "hasPendingWrites": true,
                                                                                                      "memberDocs": [
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1758691892125, role=null, hidden=true, joinedAt=1758340593980, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100282282, role=null, joinedAt=1758691994604, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100307716, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758692811217, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {role=owner, avatarImageId=null, joinedAt=1758451088763, userEmail=null, userName=null, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, status=active}
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:45:07.979 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END FIREBASE OFFLINE PERSISTENCE ===
2025-10-10 19:45:07.979 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing 6 member documents
2025-10-10 19:45:07.980 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping hidden member doc: chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:07.980 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/bKuWFP1OwGmLP66729Fk
2025-10-10 19:45:07.981 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:45:07.981 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA
2025-10-10 19:45:07.981 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:45:07.982 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:07.982 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Waiting for 5 chat documents to load...
2025-10-10 19:45:07.983 14099-14099 ChatListViewModel       com.example.nanaclu                  E  Failed to load chat documents: Failed to get document because the client is offline.
2025-10-10 19:45:07.983 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Offline detected, creating basic chat list from member docs
2025-10-10 19:45:07.983 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === CREATING BASIC CHAT LIST (OFFLINE FALLBACK) ===
2025-10-10 19:45:07.983 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Creating basic chat list from 6 member docs
2025-10-10 19:45:07.984 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:07.984 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping private chat from path: chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3 - cannot determine other user ID
2025-10-10 19:45:07.984 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:07.984 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping private chat from path: chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3 - cannot determine other user ID
2025-10-10 19:45:07.985 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:07.985 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detected group chat from path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3, groupId: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:07.985 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created basic chat: 2KffRwOO95KTVuiuxFMA, type: group
2025-10-10 19:45:07.985 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:07.985 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detected group chat from path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3, groupId: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:07.985 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created basic chat: u4DbwEoy4dSsfcaatrbR, type: group
2025-10-10 19:45:07.986 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping error chat item in offline mode: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:07.986 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created 2 basic chats for offline mode (deduplicated)
2025-10-10 19:45:07.986 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Pre-caching display data for offline mode: 2 chats
2025-10-10 19:45:07.987 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Pre-cache method called successfully
2025-10-10 19:45:07.987 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === ENHANCING CHATS WITH CACHED DATA ===
2025-10-10 19:45:07.988 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END ENHANCING CHATS ===
2025-10-10 19:45:07.988 14099-14099 ChatListViewModel       com.example.nanaclu                  D  OFFLINE FALLBACK DATA (JSON): {
                                                                                                      "action": "OFFLINE_FALLBACK_CHATLIST",
                                                                                                      "chatCount": 2,
                                                                                                      "chats": [
                                                                                                        {
                                                                                                          "chatId": "u4DbwEoy4dSsfcaatrbR",
                                                                                                          "type": "group",
                                                                                                          "pairKey": "null",
                                                                                                          "groupId": "8ab93a7e-964d-4f29-bc22-335f331a9f18",
                                                                                                          "lastMessage": "",
                                                                                                          "lastMessageAt": 1760100307985,
                                                                                                          "createdAt": 1760100307985
                                                                                                        },
                                                                                                        {
                                                                                                          "chatId": "2KffRwOO95KTVuiuxFMA",
                                                                                                          "type": "group",
                                                                                                          "pairKey": "null",
                                                                                                          "groupId": "8ab93a7e-964d-4f29-bc22-335f331a9f18",
                                                                                                          "lastMessage": "",
                                                                                                          "lastMessageAt": 1760100307985,
                                                                                                          "createdAt": 1760100307985
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:45:07.988 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END OFFLINE FALLBACK ===
2025-10-10 19:45:08.007 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === LISTENER CALLBACK RECEIVED ===
2025-10-10 19:45:08.007 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === FIREBASE OFFLINE PERSISTENCE (CHATLIST) ===
2025-10-10 19:45:08.008 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Chat list snapshot: 6 member docs
2025-10-10 19:45:08.008 14099-14099 ChatListViewModel       com.example.nanaclu                  D  From cache: true
2025-10-10 19:45:08.008 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Has pending writes: true
2025-10-10 19:45:08.017 14099-14099 ChatListViewModel       com.example.nanaclu                  D  FIREBASE OFFLINE DATA (JSON): {
                                                                                                      "action": "READ_FROM_CACHE",
                                                                                                      "documentCount": 6,
                                                                                                      "fromCache": true,
                                                                                                      "hasPendingWrites": true,
                                                                                                      "memberDocs": [
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1758691892125, role=null, hidden=true, joinedAt=1758340593980, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100282282, role=null, joinedAt=1758691994604, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=1760100307725, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758692811217, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {lastReadAt=null, role=null, joinedAt=1758693841832, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, muteUntil=null}
                                                                                                        },
                                                                                                        {
                                                                                                          "memberId": "Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "path": "groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/members/Zv3vOIWincXojZmW07ib6UEEUqE3",
                                                                                                          "data": {role=owner, avatarImageId=null, joinedAt=1758451088763, userEmail=null, userName=null, userId=Zv3vOIWincXojZmW07ib6UEEUqE3, status=active}
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:45:08.018 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END FIREBASE OFFLINE PERSISTENCE ===
2025-10-10 19:45:08.018 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing 6 member documents
2025-10-10 19:45:08.019 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping hidden member doc: chats/CXDPDUNvc8XmWSMOQ176/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:08.020 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/bKuWFP1OwGmLP66729Fk
2025-10-10 19:45:08.021 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:45:08.023 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA
2025-10-10 19:45:08.024 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR
2025-10-10 19:45:08.025 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Adding chat ref task: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:08.026 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Waiting for 5 chat documents to load...
2025-10-10 19:45:08.026 14099-14099 ChatListViewModel       com.example.nanaclu                  E  Failed to load chat documents: Failed to get document because the client is offline.
2025-10-10 19:45:08.027 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Offline detected, creating basic chat list from member docs
2025-10-10 19:45:08.027 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === CREATING BASIC CHAT LIST (OFFLINE FALLBACK) ===
2025-10-10 19:45:08.027 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Creating basic chat list from 6 member docs
2025-10-10 19:45:08.029 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:08.029 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping private chat from path: chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3 - cannot determine other user ID
2025-10-10 19:45:08.031 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:08.031 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping private chat from path: chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3 - cannot determine other user ID
2025-10-10 19:45:08.032 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:08.032 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detected group chat from path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3, groupId: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:08.032 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created basic chat: 2KffRwOO95KTVuiuxFMA, type: group
2025-10-10 19:45:08.033 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:08.033 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detected group chat from path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3, groupId: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:08.033 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created basic chat: u4DbwEoy4dSsfcaatrbR, type: group
2025-10-10 19:45:08.034 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping error chat item in offline mode: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:08.034 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created 2 basic chats for offline mode (deduplicated)
2025-10-10 19:45:08.034 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Pre-caching display data for offline mode: 2 chats
2025-10-10 19:45:08.037 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Pre-cache method called successfully
2025-10-10 19:45:08.037 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === ENHANCING CHATS WITH CACHED DATA ===
2025-10-10 19:45:08.039 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END ENHANCING CHATS ===
2025-10-10 19:45:08.039 14099-14099 ChatListViewModel       com.example.nanaclu                  D  OFFLINE FALLBACK DATA (JSON): {
                                                                                                      "action": "OFFLINE_FALLBACK_CHATLIST",
                                                                                                      "chatCount": 2,
                                                                                                      "chats": [
                                                                                                        {
                                                                                                          "chatId": "u4DbwEoy4dSsfcaatrbR",
                                                                                                          "type": "group",
                                                                                                          "pairKey": "null",
                                                                                                          "groupId": "8ab93a7e-964d-4f29-bc22-335f331a9f18",
                                                                                                          "lastMessage": "",
                                                                                                          "lastMessageAt": 1760100308033,
                                                                                                          "createdAt": 1760100308033
                                                                                                        },
                                                                                                        {
                                                                                                          "chatId": "2KffRwOO95KTVuiuxFMA",
                                                                                                          "type": "group",
                                                                                                          "pairKey": "null",
                                                                                                          "groupId": "8ab93a7e-964d-4f29-bc22-335f331a9f18",
                                                                                                          "lastMessage": "",
                                                                                                          "lastMessageAt": 1760100308032,
                                                                                                          "createdAt": 1760100308032
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:45:08.039 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END OFFLINE FALLBACK ===
2025-10-10 19:45:08.106 14099-14099 ChatListViewModel       com.example.nanaclu                  E  Failed to load chat documents: Failed to get document because the client is offline.
2025-10-10 19:45:08.106 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Offline detected, creating basic chat list from member docs
2025-10-10 19:45:08.106 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === CREATING BASIC CHAT LIST (OFFLINE FALLBACK) ===
2025-10-10 19:45:08.106 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Creating basic chat list from 6 member docs
2025-10-10 19:45:08.108 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:08.108 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping private chat from path: chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3 - cannot determine other user ID
2025-10-10 19:45:08.108 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:08.108 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping private chat from path: chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3 - cannot determine other user ID
2025-10-10 19:45:08.109 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:08.109 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detected group chat from path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3, groupId: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:08.109 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created basic chat: 2KffRwOO95KTVuiuxFMA, type: group
2025-10-10 19:45:08.109 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:08.109 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detected group chat from path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3, groupId: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:08.109 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created basic chat: u4DbwEoy4dSsfcaatrbR, type: group
2025-10-10 19:45:08.109 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping error chat item in offline mode: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:08.109 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created 2 basic chats for offline mode (deduplicated)
2025-10-10 19:45:08.109 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Pre-caching display data for offline mode: 2 chats
2025-10-10 19:45:08.110 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Pre-cache method called successfully
2025-10-10 19:45:08.110 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === ENHANCING CHATS WITH CACHED DATA ===
2025-10-10 19:45:08.111 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END ENHANCING CHATS ===
2025-10-10 19:45:08.111 14099-14099 ChatListViewModel       com.example.nanaclu                  D  OFFLINE FALLBACK DATA (JSON): {
                                                                                                      "action": "OFFLINE_FALLBACK_CHATLIST",
                                                                                                      "chatCount": 2,
                                                                                                      "chats": [
                                                                                                        {
                                                                                                          "chatId": "u4DbwEoy4dSsfcaatrbR",
                                                                                                          "type": "group",
                                                                                                          "pairKey": "null",
                                                                                                          "groupId": "8ab93a7e-964d-4f29-bc22-335f331a9f18",
                                                                                                          "lastMessage": "",
                                                                                                          "lastMessageAt": 1760100308109,
                                                                                                          "createdAt": 1760100308109
                                                                                                        },
                                                                                                        {
                                                                                                          "chatId": "2KffRwOO95KTVuiuxFMA",
                                                                                                          "type": "group",
                                                                                                          "pairKey": "null",
                                                                                                          "groupId": "8ab93a7e-964d-4f29-bc22-335f331a9f18",
                                                                                                          "lastMessage": "",
                                                                                                          "lastMessageAt": 1760100308109,
                                                                                                          "createdAt": 1760100308109
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:45:08.111 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END OFFLINE FALLBACK ===
2025-10-10 19:45:08.112 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Enhanced group chat u4DbwEoy4dSsfcaatrbR with cached group data: name=oeoeo, avatar=https://firebasestorage.googleapis.com/v0/b/nanaclub-3a4d3.firebasestorage.app/o/group_images%2Favatar%2Fimg_1758539496253.jpg?alt=media&token=fbdea081-4dcc-4633-9f04-aab3ce9d1d7a
2025-10-10 19:45:08.112 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Enhanced group chat 2KffRwOO95KTVuiuxFMA with cached group data: name=oeoeo, avatar=https://firebasestorage.googleapis.com/v0/b/nanaclub-3a4d3.firebasestorage.app/o/group_images%2Favatar%2Fimg_1758539496253.jpg?alt=media&token=fbdea081-4dcc-4633-9f04-aab3ce9d1d7a
2025-10-10 19:45:08.112 14099-14099 ChatListViewModel       com.example.nanaclu                  E  Failed to load chat documents: Failed to get document because the client is offline.
2025-10-10 19:45:08.113 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Offline detected, creating basic chat list from member docs
2025-10-10 19:45:08.113 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === CREATING BASIC CHAT LIST (OFFLINE FALLBACK) ===
2025-10-10 19:45:08.113 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Creating basic chat list from 6 member docs
2025-10-10 19:45:08.113 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:08.113 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping private chat from path: chats/bKuWFP1OwGmLP66729Fk/members/Zv3vOIWincXojZmW07ib6UEEUqE3 - cannot determine other user ID
2025-10-10 19:45:08.114 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:08.114 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping private chat from path: chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3 - cannot determine other user ID
2025-10-10 19:45:08.114 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:08.114 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detected group chat from path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/2KffRwOO95KTVuiuxFMA/members/Zv3vOIWincXojZmW07ib6UEEUqE3, groupId: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:08.114 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created basic chat: 2KffRwOO95KTVuiuxFMA, type: group
2025-10-10 19:45:08.114 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Processing member doc path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3
2025-10-10 19:45:08.115 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Detected group chat from path: groups/8ab93a7e-964d-4f29-bc22-335f331a9f18/chats/u4DbwEoy4dSsfcaatrbR/members/Zv3vOIWincXojZmW07ib6UEEUqE3, groupId: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:08.115 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created basic chat: u4DbwEoy4dSsfcaatrbR, type: group
2025-10-10 19:45:08.115 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Skipping error chat item in offline mode: 8ab93a7e-964d-4f29-bc22-335f331a9f18
2025-10-10 19:45:08.115 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Created 2 basic chats for offline mode (deduplicated)
2025-10-10 19:45:08.115 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Pre-caching display data for offline mode: 2 chats
2025-10-10 19:45:08.116 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Pre-cache method called successfully
2025-10-10 19:45:08.116 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === ENHANCING CHATS WITH CACHED DATA ===
2025-10-10 19:45:08.116 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END ENHANCING CHATS ===
2025-10-10 19:45:08.117 14099-14099 ChatListViewModel       com.example.nanaclu                  D  OFFLINE FALLBACK DATA (JSON): {
                                                                                                      "action": "OFFLINE_FALLBACK_CHATLIST",
                                                                                                      "chatCount": 2,
                                                                                                      "chats": [
                                                                                                        {
                                                                                                          "chatId": "u4DbwEoy4dSsfcaatrbR",
                                                                                                          "type": "group",
                                                                                                          "pairKey": "null",
                                                                                                          "groupId": "8ab93a7e-964d-4f29-bc22-335f331a9f18",
                                                                                                          "lastMessage": "",
                                                                                                          "lastMessageAt": 1760100308114,
                                                                                                          "createdAt": 1760100308114
                                                                                                        },
                                                                                                        {
                                                                                                          "chatId": "2KffRwOO95KTVuiuxFMA",
                                                                                                          "type": "group",
                                                                                                          "pairKey": "null",
                                                                                                          "groupId": "8ab93a7e-964d-4f29-bc22-335f331a9f18",
                                                                                                          "lastMessage": "",
                                                                                                          "lastMessageAt": 1760100308114,
                                                                                                          "createdAt": 1760100308114
                                                                                                        }
                                                                                                      ]
                                                                                                    }
2025-10-10 19:45:08.117 14099-14099 ChatListViewModel       com.example.nanaclu                  D  === END OFFLINE FALLBACK ===
2025-10-10 19:45:08.118 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Enhanced group chat u4DbwEoy4dSsfcaatrbR with cached group data: name=oeoeo, avatar=https://firebasestorage.googleapis.com/v0/b/nanaclub-3a4d3.firebasestorage.app/o/group_images%2Favatar%2Fimg_1758539496253.jpg?alt=media&token=fbdea081-4dcc-4633-9f04-aab3ce9d1d7a
2025-10-10 19:45:08.118 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Enhanced group chat 2KffRwOO95KTVuiuxFMA with cached group data: name=oeoeo, avatar=https://firebasestorage.googleapis.com/v0/b/nanaclub-3a4d3.firebasestorage.app/o/group_images%2Favatar%2Fimg_1758539496253.jpg?alt=media&token=fbdea081-4dcc-4633-9f04-aab3ce9d1d7a
2025-10-10 19:45:08.224 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Enhanced group chat u4DbwEoy4dSsfcaatrbR with cached group data: name=oeoeo, avatar=https://firebasestorage.googleapis.com/v0/b/nanaclub-3a4d3.firebasestorage.app/o/group_images%2Favatar%2Fimg_1758539496253.jpg?alt=media&token=fbdea081-4dcc-4633-9f04-aab3ce9d1d7a
2025-10-10 19:45:08.227 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Enhanced group chat 2KffRwOO95KTVuiuxFMA with cached group data: name=oeoeo, avatar=https://firebasestorage.googleapis.com/v0/b/nanaclub-3a4d3.firebasestorage.app/o/group_images%2Favatar%2Fimg_1758539496253.jpg?alt=media&token=fbdea081-4dcc-4633-9f04-aab3ce9d1d7a
2025-10-10 19:45:08.229 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Enhanced group chat u4DbwEoy4dSsfcaatrbR with cached group data: name=oeoeo, avatar=https://firebasestorage.googleapis.com/v0/b/nanaclub-3a4d3.firebasestorage.app/o/group_images%2Favatar%2Fimg_1758539496253.jpg?alt=media&token=fbdea081-4dcc-4633-9f04-aab3ce9d1d7a
2025-10-10 19:45:08.230 14099-14099 ChatListViewModel       com.example.nanaclu                  D  Enhanced group chat 2KffRwOO95KTVuiuxFMA with cached group data: name=oeoeo, avatar=https://firebasestorage.googleapis.com/v0/b/nanaclub-3a4d3.firebasestorage.app/o/group_images%2Favatar%2Fimg_1758539496253.jpg?alt=media&token=fbdea081-4dcc-4633-9f04-aab3ce9d1d7a
2025-10-10 19:45:08.803 14099-14099 ChatListViewModel       com.example.nanaclu                  D  DEBUG: After 2 seconds, threads count: 2
